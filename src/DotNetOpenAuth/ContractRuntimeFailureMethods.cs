// <auto-generated/> // disable StyleCop on this file
//-----------------------------------------------------------------------
// <copyright file="ContractInternal.cs" company="Andrew Arnott">
//     Copyright (c) Andrew Arnott. All rights reserved.
// </copyright>
//-----------------------------------------------------------------------

namespace DotNetOpenAuth {
	using System;
	using System.Diagnostics;
	using System.Diagnostics.CodeAnalysis;
	using System.Diagnostics.Contracts;
	using DotNetOpenAuth.Messaging;

	/// <summary>
	/// An internal equivalent to <see cref="Microsoft.Contracts.Contract"/> in order to
	/// avoid a runtime dependency on Microsoft.Contracts.dll.
	/// </summary>
	/// <remarks>
	/// The Code Contracts assembly rewriter (ccrewrite) tool causes all calls to Contract.*()
	/// to redirect to this class.
	/// </remarks>
	internal static class ContractRuntimeFailureMethods {
		[SuppressMessage("Microsoft.Usage", "CA1801:ReviewUnusedParameters", MessageId = "failureKind", Justification = "Code Contracts signature.")]
		[DebuggerStepThrough]
		internal static void ReportFailure(ContractFailureKind failureKind, string userProvidedMessage, string condition, Exception originalException) {
			if (failureKind == ContractFailureKind.Precondition) {
				throw new ArgumentException(userProvidedMessage ?? condition, originalException);
			} else {
				throw new InternalErrorException(userProvidedMessage ?? condition, originalException);
			}
		}
	}
}
